(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[8],{133:function(e,t,n){"use strict";var r=n(0),a=n(313);t.a=function(e){return r.createElement(a.a,Object.assign({style:{width:"100%",overflowY:"auto"}},e))}},140:function(e,t,n){"use strict";var r=n(0),a=n(318),l=n(307);t.a=function(e){return r.createElement(a.a,{style:{width:"100%"},title:e.title,extra:r.createElement(l.a,{type:"primary",href:e.href},"\u53bb\u5b89\u88c5\u811a\u672c")})}},317:function(e,t,n){"use strict";n.r(t);var r=n(153),a=n.n(r),l=n(154),c=n(67),i=n(0),s=n(316),u=n(307),o=n(312),m=n(179),p=n(315);var f={domain:"\u57df\u540d",link:"\u94fe\u63a5",linkPrefix:"\u94fe\u63a5\u524d\u7f00",regex:"\u6b63\u5219\u8868\u8fbe\u5f0f"},h=function(e){var t=o.a.useForm(),n=Object(c.a)(t,1)[0];function r(){n.resetFields()}return i.createElement(o.a,{form:n,onFinish:function(t){var n=t;!function(e,t){if("string"===typeof t)return e.host.includes(t);var n=t.type,r=t.url;switch(n){case"domain":return e.host.includes(r);case"link":return e.href===r;case"linkPrefix":return e.href.startsWith(r);case"regex":return new RegExp(r).test(e.href)}}(new URL(n.tempUrl),n)?s.b.warn("\u6d4b\u8bd5\u9700\u8981\u5339\u914d\u7684 URL \u672a\u80fd\u5339\u914d\uff01"):(window.configBlockApi.add({type:n.type,url:n.url}),s.b.success("\u6dfb\u52a0\u6210\u529f"),e.onReload(),r())},layout:"vertical"},i.createElement(o.a.Item,{label:"\u5339\u914d\u6a21\u5f0f",name:"type",rules:[{required:!0,message:"\u5339\u914d\u6a21\u5f0f\u6ca1\u6709\u9009\u62e9"}]},i.createElement(m.a,{options:Object.entries(f).map((function(e){var t=Object(c.a)(e,2),n=t[0];return{label:t[1],value:n}}))})),i.createElement(o.a.Item,{label:"\u5339\u914d\u503c",name:"url",rules:[{required:!0,message:"\u5339\u914d\u503c\u4e0d\u80fd\u4e3a\u7a7a"}]},i.createElement(p.a,null)),i.createElement(o.a.Item,{label:"\u6d4b\u8bd5\u9700\u8981\u5339\u914d\u7684 URL",name:"tempUrl",rules:[{required:!0,message:"\u6d4b\u8bd5\u9700\u8981\u5339\u914d\u7684 URL \u4e0d\u80fd\u4e3a\u7a7a"},{type:"url",message:"\u6d4b\u8bd5\u9700\u8981\u5339\u914d\u7684 URL \u5fc5\u987b\u662f\u4e2a URL \u554a\u5582 (#`O\u2032)"}]},i.createElement(p.a,null)),i.createElement(o.a.Item,null,i.createElement(u.a,{type:"primary",htmlType:"submit",style:{marginRight:8}},"\u63d0\u4ea4"),i.createElement(u.a,{htmlType:"reset",onClick:r},"\u6e05\u7a7a")))},y=n(314),E=n(319),d=n(320),b=function(e){return i.createElement("div",null,i.createElement("h2",null,"\u672c\u5730\u5c4f\u853d\u914d\u7f6e\u5217\u8868"),i.createElement(y.b,{dataSource:e.list,renderItem:function(t,n){return i.createElement(y.b.Item,{key:n,actions:[i.createElement(E.a,{checked:t.enable,onChange:function(){return e.onSwitch(t)}}),i.createElement(u.a,{type:"danger",onClick:function(){return e.onRemove(t)}},"\u5220\u9664")]},i.createElement(y.b.Item.Meta,{title:i.createElement("div",null,i.createElement(d.a,null,f[t.type]),i.createElement("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t.url},"regex"===t.type?t.url:i.createElement("a",{href:("domain"===t.type?"https://":"")+t.url},t.url))),description:i.createElement("div",null,t.enable)}))}}))},w=n(133),v=n(140),g=window["com.rxliuli.UnblockWebRestrictions.configBlockApi"],k=function(){var e=Object(i.useState)((function(){return g.list()})),t=Object(c.a)(e,2),n=t[0],r=t[1];function o(){var e=g.list();r(e),console.log("reload: ",e)}function m(){return(m=Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.update();case 2:o(),s.b.success("\u66f4\u65b0\u6210\u529f");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i.createElement(w.a,{title:"\u914d\u7f6e\u9875",extra:i.createElement("div",null,i.createElement(u.a,{type:"primary",onClick:function(){g.clear(),o(),s.b.success("\u6e05\u7a7a\u6210\u529f")},style:{marginRight:8}},"\u6e05\u7a7a"),i.createElement(u.a,{type:"primary",onClick:function(){return m.apply(this,arguments)}},"\u66f4\u65b0"))},i.createElement(h,{onReload:o}),i.createElement(b,{list:n,onRemove:function(e){console.log("remove key: ",e.key),g.remove(e.key),o(),s.b.success("\u5220\u9664\u6210\u529f")},onSwitch:function(e){console.log("handleSwitch: ",e),g.switch(e.key),o()}}))};t.default=function(){return g?i.createElement(k,null):i.createElement(v.a,{title:"\u60a8\u8fd8\u672a\u5b89\u88c5\u89e3\u9664\u7f51\u9875\u7981\u6b62\u590d\u5236/\u7c98\u8d34\u7684\u811a\u672c",href:"https://greasyfork.org/zh-CN/scripts/391193"})}}}]);
//# sourceMappingURL=8.0d1450b4.chunk.js.map